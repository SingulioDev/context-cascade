digraph Observability {
    rankdir=TB;
    compound=true;
    node [shape=box, style=filled, fontname="Arial"];

    start [shape=ellipse, label="Start:\nObservability Task", fillcolor=lightgreen];
    end [shape=ellipse, label="Complete:\nMonitored", fillcolor=green, fontcolor=white];

    subgraph cluster_phase0 {
        label="Phase 0: Expertise Loading";
        fillcolor=lightyellow;
        style=filled;
        p0 [label="Load Observability\nPatterns"];
    }

    pillar [shape=diamond, label="Pillar?", fillcolor=yellow];

    metrics [shape=box, label="Metrics\n(Prometheus/Grafana)", fillcolor=lightblue];
    logs [shape=box, label="Logs\n(ELK/Loki)", fillcolor=lightblue];
    traces [shape=box, label="Traces\n(Jaeger/OTel)", fillcolor=lightblue];
    alerts [shape=box, label="Alerts\n(PagerDuty)", fillcolor=lightblue];

    eval [shape=octagon, label="Coverage\nGate", fillcolor=orange];

    start -> p0;
    p0 -> pillar;
    pillar -> metrics [label="metrics"];
    pillar -> logs [label="logs"];
    pillar -> traces [label="traces"];
    pillar -> alerts [label="alerts"];
    metrics -> eval;
    logs -> eval;
    traces -> eval;
    alerts -> eval;
    eval -> end [label="pass", color=green];
    eval -> pillar [label="fail", color=red, style=dashed];

    labelloc="t";
    label="Observability: Three Pillars (v2.1)";
    fontsize=16;
}
